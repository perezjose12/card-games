"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[640],{640:(g,a,c)=>{c.r(a),c.d(a,{TextToSpeechWeb:()=>l});var h=c(467),d=c(5083);class l extends d.E_{constructor(){super(),this.speechSynthesis=null,"speechSynthesis"in window&&(this.speechSynthesis=window.speechSynthesis,window.addEventListener("beforeunload",()=>{this.stop()}))}speak(e){var s=this;return(0,h.A)(function*(){s.speechSynthesis||s.throwUnsupportedError(),yield s.stop();const t=s.speechSynthesis,o=s.createSpeechSynthesisUtterance(e);return new Promise((n,i)=>{o.onend=()=>{n()},o.onerror=r=>{i(r)},t.speak(o)})})()}stop(){var e=this;return(0,h.A)(function*(){e.speechSynthesis||e.throwUnsupportedError(),e.speechSynthesis.cancel()})()}getSupportedLanguages(){var e=this;return(0,h.A)(function*(){return{languages:e.getSpeechSynthesisVoices().map(n=>n.lang).filter((n,i,r)=>r.indexOf(n)==i)}})()}getSupportedVoices(){var e=this;return(0,h.A)(function*(){return{voices:e.getSpeechSynthesisVoices()}})()}isLanguageSupported(e){var s=this;return(0,h.A)(function*(){return{supported:(yield s.getSupportedLanguages()).languages.includes(e.lang)}})()}openInstall(){var e=this;return(0,h.A)(function*(){e.throwUnimplementedError()})()}createSpeechSynthesisUtterance(e){const s=this.getSpeechSynthesisVoices(),t=new SpeechSynthesisUtterance,{text:o,lang:n,rate:i,pitch:r,volume:p,voice:u}=e;return u&&(t.voice=s[u]),p&&(t.volume=p>=0&&p<=1?p:1),i&&(t.rate=i>=.1&&i<=10?i:1),r&&(t.pitch=r>=0&&r<=2?r:2),n&&(t.lang=n),t.text=o,t}getSpeechSynthesisVoices(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}throwUnsupportedError(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}throwUnimplementedError(){throw this.unimplemented("Not implemented on web.")}}}}]);